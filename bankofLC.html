<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>å¤§æ¶¼éŠ€è¡Œï½œå¾¡è¦½é¦–é </title>

  <!-- PWA é¡è‰² -->
  <meta name="theme-color" content="#8B0000">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- iOS PWA æ”¯æ´ -->
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:"Microsoft JhengHei",serif}
    body{background:#faf6f0;color:#333;height:100vh;display:flex;flex-direction:column}

    /* é ‚éƒ¨å®®å»·æ¬„ */
    .top-bar{height:52px;background:linear-gradient(90deg,#8B0000 60%,#D4AF37);color:#FFD700;
      display:flex;align-items:center;justify-content:space-between;padding:0 16px;
      box-shadow:0 2px 6px rgba(0,0,0,.25)}
    .top-bar .logo{font-size:22px;font-weight:bold;letter-spacing:2px}
    .top-bar .msg{position:relative}
    .top-bar .msg span{background:#FF4d4F;color:#fff;border-radius:10px;padding:2px 6px;
      font-size:11px;position:absolute;top:-6px;right:-6px}

    /* æ»¾å‹•å…§å®¹å€ */
    .scroll{flex:1;overflow-y:auto;padding-bottom:60px}

    /* è³‡ç”¢å¡ç‰‡ */
    .asset-card{background:linear-gradient(135deg,#8B0000 0%,#B22222 50%,#D4AF37 100%);
      margin:12px;border-radius:16px;padding:20px;color:#fff;box-shadow:0 4px 12px rgba(0,0,0,.2)}
    .asset-card .eye{display:flex;justify-content:space-between;align-items:center}
    .asset-card .eye span{font-size:28px;font-weight:bold;text-shadow:0 0 6px rgba(0,0,0,.5)}
    .asset-card .eye button{background:none;border:none;color:#FFD700;font-size:18px}
    .asset-card .quick{display:flex;justify-content:space-around;margin-top:18px}
    .asset-card .quick div{text-align:center;font-size:13px}
    .asset-card .quick i{display:block;width:40px;height:40px;margin:0 auto 6px;background:#FFD700;
      border-radius:50%;line-height:40px;color:#8B0000;font-style:normal}

    /* åŠŸèƒ½å®®æ ¼ */
    .grid{background:#fff;margin:12px;border-radius:12px;display:grid;
      grid-template-columns:repeat(4,1fr);gap:12px;padding:16px;text-align:center;font-size:12px}
    .grid i{display:block;width:44px;height:44px;margin:0 auto 6px;background:#8B0000;
      color:#FFD700;border-radius:10px;line-height:44px;font-style:normal;font-size:20px}

    /* åº•éƒ¨ Dock */
    .dock{position:fixed;bottom:0;left:0;right:0;height:56px;background:#8B0000;display:flex;
      border-top:2px solid #D4AF37}
    .dock div{flex:1;text-align:center;font-size:11px;color:#FFD700;padding-top:6px}
    .dock i{display:block;font-style:normal;font-size:22px;margin-bottom:2px}
  </style>
</head>
<body>

  <!-- é ‚æ¬„ -->
  <header class="top-bar">
    <div class="logo">å¤§æ¶¼éŠ€è¡Œ</div>
    <div class="msg" onclick="go('msg')">&#127543;<span>9</span></div>
  </header>

  <!-- æ»¾å‹•å€ -->
  <div class="scroll">

    <!-- è³‡ç”¢ -->
    <div class="asset-card">
      <div class="eye">
        <div>
          <div style="font-size:13px;">ç¸½è³‡ç”¢ï¼ˆç›§å°¼èŒ²ï¼‰</div>
          <div class="balance" id="balance">0.00</div>
        </div>
        <button onclick="toggleEye()">ğŸ‘</button>
      </div>
      <div class="quick">
        <div onclick="go('transfer')"><i>è½‰</i>è½‰å¸³</div>
        <div onclick="go('card')"><i>å¡</i>éŠ€è¡Œå¡</div>
        <div onclick="go('loan')"><i>è²¸</i>è²¸æ¬¾</div>
        <div onclick="go('life')"><i>ç¹³</i>ç”Ÿæ´»ç¹³è²»</div>
      </div>
    </div>

    <!-- åŠŸèƒ½å®®æ ¼ -->
    <div class="grid">
      <div onclick="go('account')"><i>å¸³</i>å¸³æˆ¶ç¸½è¦½</div>
      <div onclick="go('lcps')"><i>L</i>LCPSæ”¯ä»˜</div>
      <div onclick="go('deposit')"><i>å­˜</i>å­˜æ¬¾</div>
      <div onclick="go('invest')"><i>ç†</i>ç†è²¡</div>
      <div onclick="go('insure')"><i>ä¿</i>ä¿éšª</div>
      <div onclick="go('gold')"><i>é»ƒ</i>é»ƒé‡‘</div>
      <div onclick="go('fx')"><i>åŒ¯</i>å¤–åŒ¯</div>
      <div onclick="go('more')"><i>æ›´</i>æ›´å¤š</div>
    </div>
  </div>

  <!-- åº•éƒ¨ Dock -->
  <nav class="dock">
    <div onclick="go('home')" style="color:#fff"><i>ğŸ </i>é¦–é </div>
    <div onclick="go('wealth')"><i>ğŸ’°</i>è²¡å¯Œ</div>
    <div onclick="go('lcps')"><i>ğŸ“²</i>LCPS</div>
    <div onclick="go('life')"><i>ğŸ›’</i>ç”Ÿæ´»</div>
    <div onclick="go('my')"><i>ğŸ‘¤</i>æˆ‘çš„</div>
  </nav>

  <script>
    // è·³åˆ°å­é 
    function go(p) {
      location.href = 'bank-' + p + '.html';
    }

    // è³‡ç”¢é¡¯éš±
    let hidden = false;
    function toggleEye() {
      hidden = !hidden;
      const user = JSON.parse(localStorage.getItem('daliang_bank_users') || '{}')[localStorage.getItem('daliang_bank_current')];
      if (user) {
        document.querySelector('.asset-card .balance').innerText = hidden ? '******' : (user.balance || 0) + ' ç›§å°¼èŒ²';
      }
    }

    // è¼‰å…¥é¤˜é¡
    const current = localStorage.getItem('daliang_bank_current');
    if (current) {
      const users = JSON.parse(localStorage.getItem('daliang_bank_users') || '{}');
      const user = users[current];
      if (user) {
        document.getElementById('balance').innerText = (user.balance || 0) + ' ç›§å°¼èŒ²';
      }
    }

    // âœ… æ³¨å†Œ PWA Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .catch(err => console.log("SW è¨»å†Šå¤±æ•—ï¼š", err));
    }
  </script>

</body>
</html>
